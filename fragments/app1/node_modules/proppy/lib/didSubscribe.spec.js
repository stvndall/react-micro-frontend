"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var compose_1 = require("./compose");
var withState_1 = require("./withState");
var didSubscribe_1 = require("./didSubscribe");
describe('proppy :: didSubscribe', function () {
    test('is a function', function () {
        expect(typeof didSubscribe_1.didSubscribe).toEqual('function');
    });
    test('updates', function () {
        var called = false;
        var P = compose_1.compose(withState_1.withState('counter', 'setCounter', 0), didSubscribe_1.didSubscribe(function (props) {
            props.setCounter(1);
            return function () {
                called = true;
            };
        }));
        var p = P();
        p.subscribe(function () { });
        expect(p.props.counter).toEqual(1);
        expect(typeof p.props.setCounter).toEqual('function');
        expect(called).toEqual(false);
        p.destroy();
        expect(called).toEqual(true);
    });
});
//# sourceMappingURL=didSubscribe.spec.js.map